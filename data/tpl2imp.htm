<!DOCTYPE html>
<!--
Roc-MQTT-Display
Version 1.05
Copyright (c) 2020-2022 Christian Heinrichs. All rights reserved.
https://github.com/chrisweather/RocMQTTdisplay
-->
<html>
<head>
<meta charset="utf-8"/>
<title>Roc-MQTT-Display</title>
<link rel='stylesheet' type='text/css' href='rmd.css'>
</head>
<body>
<H1>Roc-MQTT-Display - Template Import</H1>
<p><strong>%WIFI_DEVICENAME%</strong></p>
<script>
function buttonHome() {
 window.open('/','_self');
}
function buttonTemplate2() {
 window.open('/tpl2','_self');
}
function buttonImport() {
 ta = document.getElementById("f_TPL_CONTENT").value;
 if (ta.charAt(0) == '{' && ta.charAt(ta.length-1) == '}') {
  try {
   JSON.parse(ta);
   ta = "";
   document.getElementById("f_TPL_CONTENT").style.color = 'green';
   document.getElementById("formImpTpl").submit();
   setTimeout(buttonTemplate2, 4000);
  }
  catch (error) {
   document.getElementById("f_TPL_CONTENT").style.color = 'red';
  }
 }
 else {
  document.getElementById("f_TPL_CONTENT").style.color = 'red';
 }
 ta = "";
}
</script>

<button type='button' class='button' title='Home' onclick='buttonHome()'>Home</button>   
<button type='button' class='button' title='Template settings for Template 0-9' onclick='buttonTemplate2()'>Templates 2</button>   
<button type='button' class='button' title='Import Template' onclick='buttonImport()'>Import</button>   

<table id='tbl1'>
<form id='formImpTpl' name='formImpTpl' action='/submittpl2imp' method='POST'>
<tr><td>
<textarea id="f_TPL_CONTENT" name="f_TPL_CONTENT" rows="13" cols="120" maxlength="1550" form="formImpTpl" spellcheck="false" placeholder="Copy a template as JSON string into this field to import it as a new template. 
It has to begin with { and end with } otherwise the import will fail. 
TPLID must be set to T0, T1, ... or T9. The existing template with that TPLID will be overwritten!" >
</textarea></td></tr>
</form>
</table>

<footer>
<p>Copyright (c) 2020-2022 Christian Heinrichs. All rights reserved.</p>
<p><a href='https://github.com/chrisweather/RocMQTTdisplay' target='_blank'>https://github.com/chrisweather/RocMQTTdisplay</a></p>
</footer>
</body>
</html>